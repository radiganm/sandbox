based on this article: http://www.wangafu.net/~nickm/libevent-book/Ref8_listener.html
